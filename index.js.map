{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\n\nexport const fetchImages = async (query) => {\n    const API_KEY = \"49625718-2fc374da92b01abb8788a4564\";\n    const BASE_URL = \"https://pixabay.com/api/\";\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n    const url = `${BASE_URL}?${params.toString()}`;\n    return fetch(url).then((response) => response.json())\n};","export const compileHtml = (prev, { webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return prev + `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${webformatURL}\"\n                    data-source=\"${largeImageURL}\"\n                    alt=\"${tags}\"\n                />\n            </a>\n            <ul class=\"gallery-item--list\">\n                <li class=\"gallery-item--info\">\n                    <b>Likes</b>\n                    <span>${likes}</span>\n                </li>\n                <li class=\"gallery-item--info\">\n                    <b>Views</b>\n                    <span>${views}</span>\n                </li>\n                <li class=\"gallery-item--info\">\n                    <b>Comments</b>\n                    <span>${comments}</span>\n                </li>\n                <li class=\"gallery-item--info\">\n                    <b>Downloads</b>\n                    <span>${downloads}</span>\n                </li>\n            </ul>\n        </li>\n    `;\n}\n\nexport const render = (gallery, images) => {\n    const html = images.reduce(compileHtml, \"\");\n    gallery.innerHTML = html;\n};\n\nexport const showLoader = (parent) => {\n    const loader = document.createElement(\"li\");\n    loader.id = \"loader\";\n    loader.innerHTML = `<div class=\"loader\">Loading...</div>`;\n    parent.innerHTML = \"\";\n    parent.appendChild(loader);\n};\n\nexport const hideLoader = () => {\n    const loader = document.getElementById(\"loader\");\n    loader.remove();\n};","import \"izitoast/dist/css/iziToast.min.css\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\n\nimport \"./css/iziToast.css\";\nimport { fetchImages } from \"./js/pixabay-api\";\nimport { hideLoader, render, showLoader } from \"./js/render-functions\";\n\nconst refs = {\n    form: document.getElementById(\"search-form\"),\n    gallery: document.getElementById(\"gallery\"),\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n    const lightbox = new SimpleLightbox('.gallery a');\n\n    refs.gallery.addEventListener('click', clicHandler);\n    \n    refs.form.addEventListener(\"submit\", (event) => {\n        event.preventDefault();\n        const data = new FormData(event.target);\n        const query = data.get(\"q\");\n\n        if (!query) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Please enter a search query.',\n                position: 'topRight',\n            });\n            return;\n        }\n        \n        showLoader(refs.gallery);\n\n        fetchImages(query)\n            .then((data) => {\n                if (data.hits.length === 0) {\n                    iziToast.error({\n                        title: 'Error',\n                        message: '\"Sorry, there are no images matching your search query. Please try again!\".',\n                        position: 'topRight',\n                    });\n                    hideLoader();\n                    return;\n                }\n                render(refs.gallery, data.hits);\n                lightbox.refresh();\n            })\n            .catch((error) => {\n                console.error(\"Error fetching images:\", error);\n            })\n    });\n\n});\n\n\n\nconst clicHandler = (e) => {\n    e.preventDefault();\n    if (!e.target.classList.contains(\"gallery-image\")) return;\n    // SimpleLightbox.create(`<img src=\"${e.target.dataset.source}\" width=\"800\" height=\"600\">`).show()\n}"],"names":["fetchImages","query","API_KEY","BASE_URL","params","url","response","compileHtml","prev","webformatURL","largeImageURL","tags","likes","views","comments","downloads","render","gallery","images","html","showLoader","parent","loader","hideLoader","refs","lightbox","SimpleLightbox","clicHandler","event","iziToast","data","error","e"],"mappings":"6vBAEO,MAAMA,EAAc,MAAOC,GAAU,CACxC,MAAMC,EAAU,qCACVC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKI,EAAM,GAAGF,CAAQ,IAAIC,EAAO,SAAU,CAAA,GAC5C,OAAO,MAAMC,CAAG,EAAE,KAAMC,GAAaA,EAAS,MAAM,CACxD,ECdaC,EAAc,CAACC,EAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,KACpFP,EAAO;AAAA;AAAA,4CAE0BE,CAAa;AAAA;AAAA;AAAA,2BAG9BD,CAAY;AAAA,mCACJC,CAAa;AAAA,2BACrBC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAMHC,CAAK;AAAA;AAAA;AAAA;AAAA,4BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,4BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,4BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,MAOxBC,EAAS,CAACC,EAASC,IAAW,CACvC,MAAMC,EAAOD,EAAO,OAAOX,EAAa,EAAE,EAC1CU,EAAQ,UAAYE,CACxB,EAEaC,EAAcC,GAAW,CAClC,MAAMC,EAAS,SAAS,cAAc,IAAI,EAC1CA,EAAO,GAAK,SACZA,EAAO,UAAY,uCACnBD,EAAO,UAAY,GACnBA,EAAO,YAAYC,CAAM,CAC7B,EAEaC,EAAa,IAAM,CACb,SAAS,eAAe,QAAQ,EACxC,OAAM,CACjB,ECvCMC,EAAO,CACT,KAAM,SAAS,eAAe,aAAa,EAC3C,QAAS,SAAS,eAAe,SAAS,CAC9C,EAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAChD,MAAMC,EAAW,IAAIC,EAAe,YAAY,EAEhDF,EAAK,QAAQ,iBAAiB,QAASG,CAAW,EAElDH,EAAK,KAAK,iBAAiB,SAAWI,GAAU,CAC5CA,EAAM,eAAc,EAEpB,MAAM3B,EADO,IAAI,SAAS2B,EAAM,MAAM,EACnB,IAAI,GAAG,EAE1B,GAAI,CAAC3B,EAAO,CACR4B,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+BACT,SAAU,UAC1B,CAAa,EACD,MACH,CAEDT,EAAWI,EAAK,OAAO,EAEvBxB,EAAYC,CAAK,EACZ,KAAM6B,GAAS,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8EACT,SAAU,UAClC,CAAqB,EACDN,IACA,MACH,CACDP,EAAOQ,EAAK,QAASM,EAAK,IAAI,EAC9BL,EAAS,QAAO,CAChC,CAAa,EACA,MAAOM,GAAU,CACd,QAAQ,MAAM,yBAA0BA,CAAK,CAC7D,CAAa,CACb,CAAK,CAEL,CAAC,EAID,MAAMJ,EAAeK,GAAM,CACvBA,EAAE,eAAc,EACXA,EAAE,OAAO,UAAU,SAAS,eAAe,CAEpD"}